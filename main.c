#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <errno.h>
#include <string.h>
#include "fbsplash.h"
#include "svg_parser.h"
#include "svg_renderer.h"
#include "dt_rotation.h"

/*
 * SVG path data for rendering the logo
 * Contains the path data for each component of the logo
 * Index meaning:
 * 0: "R" in logo
 * 1: "O" in logo
 * 2: "C" in logo
 * 3: "K" in logo
 * 4: "N" in logo
 * 5: "I" in logo
 * 6: "X" in logo
 */
const char *svg_paths[] = {
    "M 81.5,15.5 C 87.3034,15.81 89.4701,18.81 88,24.5C 83.9015,28.6966 80.4015,28.1966 77.5,23C 77.5,21.6667 77.5,20.3333 77.5,19C 79.0267,17.9681 80.36,16.8014 81.5,15.5 Z" 
"M 67.5,22.5 C 68.9648,26.0244 69.9648,29.691 70.5,33.5C 73.0895,33.6038 75.4229,32.9371 77.5,31.5C 83.5175,32.8602 88.5175,35.8602 92.5,40.5C 93.1646,42.3691 93.8313,44.3691 94.5,46.5C 100.977,44.0847 105.977,45.7514 109.5,51.5C 110.445,56.4053 110.779,61.4053 110.5,66.5C 109.038,65.5423 107.705,64.3756 106.5,63C 104.866,62.5065 103.199,62.3398 101.5,62.5C 101.559,57.0671 98.7252,54.4005 93,54.5C 91.4385,54.6032 89.9385,54.9366 88.5,55.5C 85.2171,44.5115 78.2171,41.1782 67.5,45.5C 62.8956,50.5708 63.7289,52.2375 70,50.5C 78.5917,51.2664 82.0917,55.933 80.5,64.5C 86.406,63.4354 89.7394,65.7688 90.5,71.5C 94.1293,71.4825 97.1293,72.8158 99.5,75.5C 100.11,76.391 100.443,77.391 100.5,78.5C 100.565,78.9382 100.399,79.2716 100,79.5C 96.3442,76.3298 92.1776,75.6631 87.5,77.5C 86.8378,71.5052 83.5045,68.8385 77.5,69.5C 78.3591,64.7203 76.6925,61.2203 72.5,59C 69.1878,58.4617 66.0212,58.9617 63,60.5C 60.9676,60.1416 59.1343,59.3083 57.5,58C 49.6682,57.1791 46.8349,60.6791 49,68.5C 49.8333,69.3333 50.6667,70.1667 51.5,71C 43.7407,71.2711 39.4074,75.1045 38.5,82.5C 38.1667,81.8333 37.8333,81.1667 37.5,80.5C 37.3367,78.1432 37.5034,75.8098 38,73.5C 40.1061,71.5397 42.2728,69.7064 44.5,68C 41.0541,61.4373 42.3874,56.104 48.5,52C 50.1341,51.5065 51.8008,51.3398 53.5,51.5C 53.7543,44.9002 57.0877,40.5669 63.5,38.5C 58.4641,32.195 52.9641,31.8617 47,37.5C 46.5026,40.146 46.3359,42.8127 46.5,45.5C 36.6379,46.5258 32.8046,51.8592 35,61.5C 33.0283,62.3052 31.5283,63.6385 30.5,65.5C 19.6172,65.5288 15.2839,70.6955 17.5,81C 16.0558,83.0345 14.0558,83.8678 11.5,83.5C 7.2554,77.8189 6.92207,71.9856 10.5,66C 12.1838,62.2596 15.5172,60.0929 20.5,59.5C 21.3996,54.6678 22.0662,49.6678 22.5,44.5C 26.5469,38.6536 32.2136,36.3202 39.5,37.5C 38.527,26.0014 44.1937,19.0014 56.5,16.5C 61.1513,16.8434 64.8179,18.8434 67.5,22.5 Z" 
"M 81.5,17.5 C 86.2137,17.2008 87.8804,19.2008 86.5,23.5C 84.2573,24.4742 81.924,24.8076 79.5,24.5C 79.1658,21.812 79.8325,19.4786 81.5,17.5 Z" 
"M 92.5,23.5 C 98.2948,22.1369 101.961,24.3035 103.5,30C 100.752,38.2807 96.2522,39.4474 90,33.5C 88.8613,29.5789 89.6946,26.2456 92.5,23.5 Z" 
"M 67.5,22.5 C 68.4584,22.9528 69.2917,23.6195 70,24.5C 70.853,26.9355 71.853,29.2688 73,31.5C 82.001,29.2523 88.501,32.2523 92.5,40.5C 88.5175,35.8602 83.5175,32.8602 77.5,31.5C 75.4229,32.9371 73.0895,33.6038 70.5,33.5C 69.9648,29.691 68.9648,26.0244 67.5,22.5 Z" 
"M 184.5,118.5 C 180.871,119.1 177.204,119.767 173.5,120.5C 170.833,125.167 168.167,129.833 165.5,134.5C 162.777,129.505 159.777,124.672 156.5,120C 153.118,119.176 149.784,119.343 146.5,120.5C 151.298,127.932 155.965,135.432 160.5,143C 155.352,150.978 150.018,158.811 144.5,166.5C 143.292,167.234 141.959,167.567 140.5,167.5C 140.5,151.5 140.5,135.5 140.5,119.5C 136.833,119.5 133.167,119.5 129.5,119.5C 129.5,135.5 129.5,151.5 129.5,167.5C 127.167,167.5 124.833,167.5 122.5,167.5C 122.5,151.5 122.5,135.5 122.5,119.5C 119.167,119.5 115.833,119.5 112.5,119.5C 112.828,130.014 112.494,140.347 111.5,150.5C 107.756,144.687 103.756,139.02 99.5,133.5C 94.8333,132.833 90.1667,132.167 85.5,131.5C 84.8333,141.659 84.1666,151.659 83.5,161.5C 81.6452,159.967 79.8119,158.3 78,156.5C 78.3333,152.833 78.6667,149.167 79,145.5C 77.4423,143.232 75.2756,142.066 72.5,142C 70.9617,140.068 69.795,137.901 69,135.5C 65.9233,132.191 62.4233,131.691 58.5,134C 56.8983,136.111 54.8983,137.611 52.5,138.5C 48.2115,137.357 44.5449,135.19 41.5,132C 35.2708,132.45 29.1041,132.284 23,131.5C 22.7216,132.416 22.2216,133.082 21.5,133.5C 19.3211,130.723 16.6544,128.39 13.5,126.5C 13.1436,124.81 12.1436,123.81 10.5,123.5C 9.22308,120.447 7.55641,117.614 5.5,115C 5.98364,111.59 6.6503,107.924 7.5,104C 7.16667,103.667 6.83333,103.333 6.5,103C 7.88254,101.729 8.88254,100.229 9.5,98.5C 12.1667,96.1667 14.8333,93.8333 17.5,91.5C 27.3048,86.7795 36.4714,87.7795 45,94.5C 45.1484,96.9054 44.6484,99.2387 43.5,101.5C 45.4004,105.027 47.9004,105.36 51,102.5C 52.9063,98.3908 54.7397,94.2242 56.5,90C 61.1667,89.3333 65.8333,89.3333 70.5,90C 72.8936,91.9522 74.3936,94.4522 75,97.5C 76,98.1667 77,98.8333 78,99.5C 80.8332,97.0299 83.3332,94.1965 85.5,91C 90.5698,88.5758 95.9031,87.9091 101.5,89C 104.562,90.2049 107.562,91.3716 110.5,92.5C 110.5,84.1667 110.5,75.8333 110.5,67.5C 110.5,67.1667 110.5,66.8333 110.5,66.5C 110.779,61.4053 110.445,56.4053 109.5,51.5C 109.334,46.8215 109.501,42.1548 110,37.5C 111.122,35.3762 112.622,33.5429 114.5,32C 138.167,31.3333 161.833,31.3333 185.5,32C 187.378,33.5429 188.878,35.3762 190,37.5C 190.667,61.1667 190.667,84.8333 190,108.5C 188.773,112.211 186.94,115.545 184.5,118.5 Z" 
"M 37.5,80.5 C 33.0426,76.5508 28.5426,76.5508 24,80.5C 23.2571,82.4406 23.4238,84.2739 24.5,86C 20.8118,86.1952 18.4785,88.0285 17.5,91.5C 14.8333,93.8333 12.1667,96.1667 9.5,98.5C 7.68925,93.4778 8.35592,88.4778 11.5,83.5C 14.0558,83.8678 16.0558,83.0345 17.5,81C 15.2839,70.6955 19.6172,65.5288 30.5,65.5C 31.5283,63.6385 33.0283,62.3052 35,61.5C 32.8046,51.8592 36.6379,46.5258 46.5,45.5C 46.3359,42.8127 46.5026,40.146 47,37.5C 52.9641,31.8617 58.4641,32.195 63.5,38.5C 57.0877,40.5669 53.7543,44.9002 53.5,51.5C 51.8008,51.3398 50.1341,51.5065 48.5,52C 42.3874,56.104 41.0541,61.4373 44.5,68C 42.2728,69.7064 40.1061,71.5397 38,73.5C 37.5034,75.8098 37.3367,78.1432 37.5,80.5 Z" 
"M 115.5,36.5 C 138.5,35.1667 161.5,35.1667 184.5,36.5C 174.319,36.1726 164.319,36.506 154.5,37.5C 149.823,36.2958 145.156,36.2958 140.5,37.5C 132.35,36.5073 124.017,36.1739 115.5,36.5 Z" 
"M 115.5,36.5 C 124.017,36.1739 132.35,36.5073 140.5,37.5C 136.9,39.4302 133.9,42.0969 131.5,45.5C 129.709,46.1698 128.042,46.8365 126.5,47.5C 125.206,48.2899 124.039,49.2899 123,50.5C 122.333,54.1667 122.333,57.8333 123,61.5C 123.278,62.4158 123.778,63.0825 124.5,63.5C 122.333,64.2685 120.166,65.2685 118,66.5C 117.333,70.1667 117.333,73.8333 118,77.5C 120.515,82.3922 122.349,87.5589 123.5,93C 120.199,97.0989 117.532,101.599 115.5,106.5C 114.502,83.6727 114.169,60.6727 114.5,37.5C 114.5,36.8333 114.833,36.5 115.5,36.5 Z" 
"M 184.5,36.5 C 185.167,36.5 185.5,36.8333 185.5,37.5C 185.828,48.6794 185.495,59.6794 184.5,70.5C 182.683,68.1824 180.683,66.0157 178.5,64C 179.459,61.8801 179.626,59.7135 179,57.5C 178.329,56.7476 177.496,56.4142 176.5,56.5C 175.791,55.596 174.791,55.2627 173.5,55.5C 173.178,51.0243 170.844,49.5243 166.5,51C 165.424,52.7261 165.257,54.5594 166,56.5C 166.71,57.9733 167.876,58.6399 169.5,58.5C 169.232,60.099 169.566,61.4324 170.5,62.5C 171.525,62.8966 171.692,63.5632 171,64.5C 168.5,65.6667 166.667,67.5 165.5,70C 164.002,70.5847 163.002,70.0847 162.5,68.5C 161.243,66.632 161.576,64.9653 163.5,63.5C 162.874,57.7024 162.207,52.0357 161.5,46.5C 159.549,43.2139 157.215,40.2139 154.5,37.5C 164.319,36.506 174.319,36.1726 184.5,36.5 Z" 
"M 185.5,37.5 C 186.833,54.5 186.833,71.5 185.5,88.5C 185.746,82.4406 185.413,76.4406 184.5,70.5C 185.495,59.6794 185.828,48.6794 185.5,37.5 Z" 
"M 114.5,37.5 C 114.169,60.6727 114.502,83.6727 115.5,106.5C 115.5,107.167 115.5,107.833 115.5,108.5C 114.168,97.0194 113.501,85.1861 113.5,73C 113.5,60.9952 113.833,49.1619 114.5,37.5 Z" 
"M 110.5,66.5 C 110.5,66.8333 110.5,67.1667 110.5,67.5C 109.751,68.531 109.085,69.6976 108.5,71C 106.167,71.3333 103.833,71.6667 101.5,72C 100.177,72.8159 99.5106,73.9826 99.5,75.5C 97.1293,72.8158 94.1293,71.4825 90.5,71.5C 89.7394,65.7688 86.406,63.4354 80.5,64.5C 82.0917,55.933 78.5917,51.2664 70,50.5C 63.7289,52.2375 62.8956,50.5708 67.5,45.5C 78.2171,41.1782 85.2171,44.5115 88.5,55.5C 89.9385,54.9366 91.4385,54.6032 93,54.5C 98.7252,54.4005 101.559,57.0671 101.5,62.5C 103.199,62.3398 104.866,62.5065 106.5,63C 107.705,64.3756 109.038,65.5423 110.5,66.5 Z" 
"M 22.5,44.5 C 22.0662,49.6678 21.3996,54.6678 20.5,59.5C 19.0777,54.1427 19.7443,49.1427 22.5,44.5 Z" 
"M 176.5,56.5 C 171.5,55.5 169.5,57.5 170.5,62.5C 169.566,61.4324 169.232,60.099 169.5,58.5C 167.876,58.6399 166.71,57.9733 166,56.5C 165.257,54.5594 165.424,52.7261 166.5,51C 170.844,49.5243 173.178,51.0243 173.5,55.5C 174.791,55.2627 175.791,55.596 176.5,56.5 Z" 
"M 100.5,78.5 C 101.622,80.2884 101.789,82.2884 101,84.5C 100.612,85.428 99.9454,86.0946 99,86.5C 97.2793,85.1054 95.2793,84.4387 93,84.5C 90.031,85.4381 87.031,86.4381 84,87.5C 82.8926,87.4148 81.8926,87.0814 81,86.5C 81.1554,84.1893 81.1554,81.856 81,79.5C 79.1038,77.4701 76.9371,75.8034 74.5,74.5C 75.9753,71.7546 75.3087,69.588 72.5,68C 67.4292,67.2313 64.4292,69.3979 63.5,74.5C 59.3303,73.9928 56.3303,75.6595 54.5,79.5C 49.1047,79.6693 46.1047,82.336 45.5,87.5C 42.3567,87.031 40.0233,85.3644 38.5,82.5C 39.4074,75.1045 43.7407,71.2711 51.5,71C 50.6667,70.1667 49.8333,69.3333 49,68.5C 46.8349,60.6791 49.6682,57.1791 57.5,58C 59.1343,59.3083 60.9676,60.1416 63,60.5C 66.0212,58.9617 69.1878,58.4617 72.5,59C 76.6925,61.2203 78.3591,64.7203 77.5,69.5C 83.5045,68.8385 86.8378,71.5052 87.5,77.5C 92.1776,75.6631 96.3442,76.3298 100,79.5C 100.399,79.2716 100.565,78.9382 100.5,78.5 Z" 
"M 126.5,47.5 C 129.188,47.1658 131.521,47.8325 133.5,49.5C 135.098,54.5484 134.098,59.0484 130.5,63C 128.527,63.4955 126.527,63.6621 124.5,63.5C 123.778,63.0825 123.278,62.4158 123,61.5C 122.333,57.8333 122.333,54.1667 123,50.5C 124.039,49.2899 125.206,48.2899 126.5,47.5 Z" 
"M 127.5,49.5 C 131.49,48.8238 133.157,50.4905 132.5,54.5C 132.482,58.187 130.815,60.8536 127.5,62.5C 125.082,61.2706 124.082,59.2706 124.5,56.5C 124.667,55.1667 124.833,53.8333 125,52.5C 126.045,51.6266 126.878,50.6266 127.5,49.5 Z" 
"M 157.5,47.5 C 158.072,61.6879 153.572,74.0213 144,84.5C 141.115,77.426 135.948,73.7593 128.5,73.5C 128.844,70.4377 129.511,67.4377 130.5,64.5C 135.365,60.1023 136.698,54.769 134.5,48.5C 133.156,45.2675 134.156,42.7675 137.5,41C 144.683,37.0002 151.183,37.8335 157,43.5C 157.49,44.7932 157.657,46.1266 157.5,47.5 Z" 
"M 142.5,46.5 C 154.079,45.979 158.245,51.3123 155,62.5C 148.508,69.4255 142.508,69.0921 137,61.5C 136.333,58.8333 136.333,56.1667 137,53.5C 138.666,51.0043 140.5,48.671 142.5,46.5 Z" 
"M 144.5,47.5 C 153.991,48.4671 156.825,53.4671 153,62.5C 145.38,68.7815 140.213,67.1148 137.5,57.5C 138.304,53.0399 140.637,49.7066 144.5,47.5 Z" 
"M 161.5,46.5 C 162.207,52.0357 162.874,57.7024 163.5,63.5C 161.576,64.9653 161.243,66.632 162.5,68.5C 161.307,68.0296 160.64,67.0296 160.5,65.5C 161.373,59.1979 161.706,52.8646 161.5,46.5 Z" 
"M 100.5,78.5 C 100.443,77.391 100.11,76.391 99.5,75.5C 99.5106,73.9826 100.177,72.8159 101.5,72C 103.833,71.6667 106.167,71.3333 108.5,71C 109.085,69.6976 109.751,68.531 110.5,67.5C 110.5,75.8333 110.5,84.1667 110.5,92.5C 107.562,91.3716 104.562,90.2049 101.5,89C 95.9031,87.9091 90.5698,88.5758 85.5,91C 83.3332,94.1965 80.8332,97.0299 78,99.5C 77,98.8333 76,98.1667 75,97.5C 74.3936,94.4522 72.8936,91.9522 70.5,90C 65.8333,89.3333 61.1667,89.3333 56.5,90C 54.7397,94.2242 52.9063,98.3908 51,102.5C 47.9004,105.36 45.4004,105.027 43.5,101.5C 44.6484,99.2387 45.1484,96.9054 45,94.5C 36.4714,87.7795 27.3048,86.7795 17.5,91.5C 18.4785,88.0285 20.8118,86.1952 24.5,86C 23.4238,84.2739 23.2571,82.4406 24,80.5C 28.5426,76.5508 33.0426,76.5508 37.5,80.5C 37.8333,81.1667 38.1667,81.8333 38.5,82.5C 40.0233,85.3644 42.3567,87.031 45.5,87.5C 46.1047,82.336 49.1047,79.6693 54.5,79.5C 56.3303,75.6595 59.3303,73.9928 63.5,74.5C 64.4292,69.3979 67.4292,67.2313 72.5,68C 75.3087,69.588 75.9753,71.7546 74.5,74.5C 76.9371,75.8034 79.1038,77.4701 81,79.5C 81.1554,81.856 81.1554,84.1893 81,86.5C 81.8926,87.0814 82.8926,87.4148 84,87.5C 87.031,86.4381 90.031,85.4381 93,84.5C 95.2793,84.4387 97.2793,85.1054 99,86.5C 99.9454,86.0946 100.612,85.428 101,84.5C 101.789,82.2884 101.622,80.2884 100.5,78.5 Z" 
"M 154.5,37.5 C 157.215,40.2139 159.549,43.2139 161.5,46.5C 161.706,52.8646 161.373,59.1979 160.5,65.5C 160.64,67.0296 161.307,68.0296 162.5,68.5C 163.002,70.0847 164.002,70.5847 165.5,70C 166.667,67.5 168.5,65.6667 171,64.5C 171.692,63.5632 171.525,62.8966 170.5,62.5C 169.5,57.5 171.5,55.5 176.5,56.5C 177.496,56.4142 178.329,56.7476 179,57.5C 179.626,59.7135 179.459,61.8801 178.5,64C 180.683,66.0157 182.683,68.1824 184.5,70.5C 185.413,76.4406 185.746,82.4406 185.5,88.5C 184.833,86.5 184.167,84.5 183.5,82.5C 183.5,80.1667 183.5,77.8333 183.5,75.5C 182.293,67.6601 177.96,64.9935 170.5,67.5C 167.708,68.3918 166.375,70.3918 166.5,73.5C 166.833,74.8333 167.167,76.1667 167.5,77.5C 166.833,77.1667 166.167,76.8333 165.5,76.5C 164.922,73.6299 163.255,71.9633 160.5,71.5C 160.784,73.4147 160.451,75.0813 159.5,76.5C 157.952,76.1788 157.285,75.1788 157.5,73.5C 159.994,64.5603 159.994,55.8937 157.5,47.5C 157.657,46.1266 157.49,44.7932 157,43.5C 151.183,37.8335 144.683,37.0002 137.5,41C 134.156,42.7675 133.156,45.2675 134.5,48.5C 133.833,48.5 133.5,48.8333 133.5,49.5C 131.521,47.8325 129.188,47.1658 126.5,47.5C 128.042,46.8365 129.709,46.1698 131.5,45.5C 133.9,42.0969 136.9,39.4302 140.5,37.5C 145.156,36.2958 149.823,36.2958 154.5,37.5 Z" 
"M 183.5,75.5 C 177.392,77.3387 171.725,76.6721 166.5,73.5C 166.375,70.3918 167.708,68.3918 170.5,67.5C 177.96,64.9935 182.293,67.6601 183.5,75.5 Z" 
"M 172.5,57.5 C 176.5,56.8333 178.167,58.5 177.5,62.5C 172.58,63.585 170.913,61.9183 172.5,57.5 Z" 
"M 170.5,67.5 C 173.957,67.6672 174.29,68.6672 171.5,70.5C 170.614,69.675 170.281,68.675 170.5,67.5 Z" 
"M 165.5,76.5 C 165.163,80.836 163.496,84.5026 160.5,87.5C 160.806,84.6146 160.473,81.9479 159.5,79.5C 159.5,78.5 159.5,77.5 159.5,76.5C 160.451,75.0813 160.784,73.4147 160.5,71.5C 163.255,71.9633 164.922,73.6299 165.5,76.5 Z" 
"M 157.5,47.5 C 159.994,55.8937 159.994,64.5603 157.5,73.5C 154.669,80.3311 149.669,84.6644 142.5,86.5C 142.5,87.5 142.5,88.5 142.5,89.5C 139.964,90.037 137.964,91.3703 136.5,93.5C 135.928,86.1013 131.928,82.9346 124.5,84C 123.077,86.62 123.243,89.12 125,91.5C 125.333,89.8333 125.667,88.1667 126,86.5C 126.333,87.1667 126.667,87.8333 127,88.5C 127.249,87.376 127.749,86.376 128.5,85.5C 132.804,86.7574 134.471,89.4241 133.5,93.5C 131.863,92.5561 130.863,93.2227 130.5,95.5C 128.347,94.4271 126.347,94.4271 124.5,95.5C 120.258,99.9842 117.591,105.318 116.5,111.5C 115.596,110.791 115.263,109.791 115.5,108.5C 115.5,107.833 115.5,107.167 115.5,106.5C 117.532,101.599 120.199,97.0989 123.5,93C 122.349,87.5589 120.515,82.3922 118,77.5C 117.333,73.8333 117.333,70.1667 118,66.5C 120.166,65.2685 122.333,64.2685 124.5,63.5C 126.527,63.6621 128.527,63.4955 130.5,63C 134.098,59.0484 135.098,54.5484 133.5,49.5C 133.5,48.8333 133.833,48.5 134.5,48.5C 136.698,54.769 135.365,60.1023 130.5,64.5C 129.511,67.4377 128.844,70.4377 128.5,73.5C 135.948,73.7593 141.115,77.426 144,84.5C 153.572,74.0213 158.072,61.6879 157.5,47.5 Z" 
"M 118.5,67.5 C 119.725,68.1522 120.392,69.3189 120.5,71C 120.849,74.2435 121.515,77.4102 122.5,80.5C 121.369,81.6039 120.535,81.2705 120,79.5C 118.985,75.5598 118.485,71.5598 118.5,67.5 Z" 
"M 143.5,50.5 C 150.665,49.4966 153.498,52.4966 152,59.5C 149.947,63.2916 146.781,64.4582 142.5,63C 138.4,58.445 138.733,54.2783 143.5,50.5 Z" 
"M 166.5,73.5 C 171.725,76.6721 177.392,77.3387 183.5,75.5C 183.5,77.8333 183.5,80.1667 183.5,82.5C 183.719,83.675 183.386,84.675 182.5,85.5C 177.922,82.0445 172.922,79.3778 167.5,77.5C 167.167,76.1667 166.833,74.8333 166.5,73.5 Z" 
"M 165.5,76.5 C 166.167,76.8333 166.833,77.1667 167.5,77.5C 167.904,78.7564 168.571,79.9231 169.5,81C 169.43,81.7648 169.097,82.2648 168.5,82.5C 168.631,81.7611 168.464,81.0944 168,80.5C 165.322,85.1881 162.156,89.5215 158.5,93.5C 156.008,96.3366 153.008,98.3366 149.5,99.5C 148.833,99.5 148.5,99.1667 148.5,98.5C 153.798,96.2 157.798,92.5334 160.5,87.5C 163.496,84.5026 165.163,80.836 165.5,76.5 Z" 
"M 127.5,79.5 C 134.594,79.4307 138.094,82.7641 138,89.5C 135.596,84.7665 131.763,81.9332 126.5,81C 127.056,80.6174 127.389,80.1174 127.5,79.5 Z" 
"M 136.5,93.5 C 135.01,95.2798 133.01,95.9465 130.5,95.5C 130.863,93.2227 131.863,92.5561 133.5,93.5C 134.471,89.4241 132.804,86.7574 128.5,85.5C 127.749,86.376 127.249,87.376 127,88.5C 126.667,87.8333 126.333,87.1667 126,86.5C 125.667,88.1667 125.333,89.8333 125,91.5C 123.243,89.12 123.077,86.62 124.5,84C 131.928,82.9346 135.928,86.1013 136.5,93.5 Z" 
"M 167.5,77.5 C 172.922,79.3778 177.922,82.0445 182.5,85.5C 183.386,84.675 183.719,83.675 183.5,82.5C 184.167,84.5 184.833,86.5 185.5,88.5C 185.5,89.1667 185.5,89.8333 185.5,90.5C 183.376,88.8261 181.042,87.9928 178.5,88C 175.572,91.029 173.572,94.529 172.5,98.5C 169.965,102.355 168.965,106.688 169.5,111.5C 174.167,111.5 178.833,111.5 183.5,111.5C 173.34,112.147 163.006,112.147 152.5,111.5C 153.227,107.273 155.727,104.94 160,104.5C 160.913,96.3536 163.747,89.0202 168.5,82.5C 169.097,82.2648 169.43,81.7648 169.5,81C 168.571,79.9231 167.904,78.7564 167.5,77.5 Z" 
"M 170.5,82.5 C 173.421,82.1459 175.754,83.1459 177.5,85.5C 172.642,92.2158 169.142,99.5491 167,107.5C 164.675,106.767 163.175,105.267 162.5,103C 163.702,95.5533 166.369,88.72 170.5,82.5 Z" 
"M 89.5,91.5 C 95.1409,90.9086 100.474,91.7419 105.5,94C 105.957,94.414 106.291,94.914 106.5,95.5C 105.253,97.323 104.586,99.323 104.5,101.5C 101.844,100.842 99.1778,100.175 96.5,99.5C 92.8343,99.369 91.8343,100.869 93.5,104C 98.4896,105.579 102.99,108.079 107,111.5C 109.686,121.441 105.853,127.108 95.5,128.5C 92.002,128.292 88.6687,127.459 85.5,126C 83.0716,123.032 83.405,120.198 86.5,117.5C 89.7096,120.222 93.3763,121.056 97.5,120C 100.167,118.333 100.167,116.667 97.5,115C 92.0682,113.54 87.5682,110.707 84,106.5C 83.3333,103.833 83.3333,101.167 84,98.5C 85.6665,96.0043 87.4998,93.671 89.5,91.5 Z" 
"M 22.5,91.5 C 29.5436,90.5334 36.0436,91.8668 42,95.5C 41.5544,97.8829 40.3877,100.05 38.5,102C 34.0223,100.622 29.3557,100.289 24.5,101C 17.9233,106.922 17.9233,112.922 24.5,119C 27.0301,120.422 29.6967,120.755 32.5,120C 34.1922,118.599 34.8588,116.766 34.5,114.5C 32.1667,114.5 29.8333,114.5 27.5,114.5C 27.5,112.167 27.5,109.833 27.5,107.5C 32.8333,107.5 38.1667,107.5 43.5,107.5C 43.8082,113.425 43.4749,119.259 42.5,125C 33.2642,129.908 24.2642,129.574 15.5,124C 6.91009,110.675 9.24342,99.8421 22.5,91.5 Z" 
"M 58.5,92.5 C 62.5546,92.1758 66.5546,92.5091 70.5,93.5C 74.5048,104.516 78.5048,115.516 82.5,126.5C 79.2156,127.657 75.8823,127.824 72.5,127C 71.8333,125.333 71.1667,123.667 70.5,122C 66.1667,121.333 61.8333,121.333 57.5,122C 56.7402,123.441 56.0736,124.941 55.5,126.5C 52.5719,127.484 49.5719,127.817 46.5,127.5C 49.7062,115.548 53.7062,103.881 58.5,92.5 Z" 
"M 185.5,90.5 C 186.624,96.752 186.79,103.085 186,109.5C 185.617,110.056 185.117,110.389 184.5,110.5C 181.5,110.5 178.5,110.5 175.5,110.5C 175.66,108.801 175.494,107.134 175,105.5C 173.535,106.369 172.369,105.869 171.5,104C 172.233,102.234 172.567,100.401 172.5,98.5C 173.572,94.529 175.572,91.029 178.5,88C 181.042,87.9928 183.376,88.8261 185.5,90.5 Z" 
"M 159.5,79.5 C 160.473,81.9479 160.806,84.6146 160.5,87.5C 157.798,92.5334 153.798,96.2 148.5,98.5C 146.897,98.3118 145.563,98.8118 144.5,100C 146.387,100.78 148.054,100.613 149.5,99.5C 153.008,98.3366 156.008,96.3366 158.5,93.5C 162.156,89.5215 165.322,85.1881 168,80.5C 168.464,81.0944 168.631,81.7611 168.5,82.5C 163.747,89.0202 160.913,96.3536 160,104.5C 155.727,104.94 153.227,107.273 152.5,111.5C 152.167,111.5 151.833,111.5 151.5,111.5C 144.167,111.5 136.833,111.5 129.5,111.5C 129.5,110.5 129.5,109.5 129.5,108.5C 129.56,105.659 130.226,102.993 131.5,100.5C 134.247,100.813 136.914,100.48 139.5,99.5C 139.376,98.8933 139.043,98.56 138.5,98.5C 138.294,94.5511 139.46,94.5511 142,98.5C 142.511,96.1218 143.178,93.7885 144,91.5C 150.498,89.1627 155.665,85.1627 159.5,79.5 Z" 
"M 138.5,98.5 C 139.043,98.56 139.376,98.8933 139.5,99.5C 136.914,100.48 134.247,100.813 131.5,100.5C 132.969,96.9316 135.136,96.5983 138,99.5C 138.399,99.2716 138.565,98.9382 138.5,98.5 Z" 
"M 148.5,98.5 C 148.5,99.1667 148.833,99.5 149.5,99.5C 148.054,100.613 146.387,100.78 144.5,100C 145.563,98.8118 146.897,98.3118 148.5,98.5 Z" 
"M 157.5,73.5 C 157.285,75.1788 157.952,76.1788 159.5,76.5C 159.5,77.5 159.5,78.5 159.5,79.5C 155.665,85.1627 150.498,89.1627 144,91.5C 143.178,93.7885 142.511,96.1218 142,98.5C 139.46,94.5511 138.294,94.5511 138.5,98.5C 138.565,98.9382 138.399,99.2716 138,99.5C 135.136,96.5983 132.969,96.9316 131.5,100.5C 130.226,102.993 129.56,105.659 129.5,108.5C 128.566,109.568 128.232,110.901 128.5,112.5C 124.298,112.817 120.298,112.483 116.5,111.5C 118.467,111.739 120.301,111.406 122,110.5C 122.162,105.685 123.328,101.185 125.5,97C 125.43,96.2352 125.097,95.7352 124.5,95.5C 126.347,94.4271 128.347,94.4271 130.5,95.5C 133.01,95.9465 135.01,95.2798 136.5,93.5C 137.964,91.3703 139.964,90.037 142.5,89.5C 142.5,88.5 142.5,87.5 142.5,86.5C 149.669,84.6644 154.669,80.3311 157.5,73.5 Z" 
"M 124.5,95.5 C 125.097,95.7352 125.43,96.2352 125.5,97C 123.328,101.185 122.162,105.685 122,110.5C 120.301,111.406 118.467,111.739 116.5,111.5C 117.591,105.318 120.258,99.9842 124.5,95.5 Z" 
"M 172.5,98.5 C 172.567,100.401 172.233,102.234 171.5,104C 172.369,105.869 173.535,106.369 175,105.5C 175.494,107.134 175.66,108.801 175.5,110.5C 178.5,110.5 181.5,110.5 184.5,110.5C 184.5,111.167 184.167,111.5 183.5,111.5C 178.833,111.5 174.167,111.5 169.5,111.5C 168.965,106.688 169.965,102.355 172.5,98.5 Z" 
"M 63.5,103.5 C 65.7851,106.335 67.1184,109.668 67.5,113.5C 65.1667,113.5 62.8333,113.5 60.5,113.5C 61.8846,110.341 62.8846,107.008 63.5,103.5 Z" 
"M 129.5,108.5 C 129.5,109.5 129.5,110.5 129.5,111.5C 136.833,111.5 144.167,111.5 151.5,111.5C 144.018,112.492 136.352,112.825 128.5,112.5C 128.232,110.901 128.566,109.568 129.5,108.5 Z" 
"M 112.5,166.5 C 107.265,157.041 101.265,148.041 94.5,139.5C 93.5016,149.144 93.1682,158.81 93.5,168.5C 90.5,168.5 87.5,168.5 84.5,168.5C 84.7947,166.265 84.4614,164.265 83.5,162.5C 83.5,162.167 83.5,161.833 83.5,161.5C 84.1666,151.659 84.8333,141.659 85.5,131.5C 90.1667,132.167 94.8333,132.833 99.5,133.5C 103.756,139.02 107.756,144.687 111.5,150.5C 111.56,151.043 111.893,151.376 112.5,151.5C 113.499,141.188 113.832,130.855 113.5,120.5C 116.167,120.5 118.833,120.5 121.5,120.5C 121.5,136.167 121.5,151.833 121.5,167.5C 118.391,167.736 115.391,167.403 112.5,166.5 Z" 
"M 184.5,118.5 C 186.914,119.777 187.081,121.443 185,123.5C 180.5,130 176,136.5 171.5,143C 177.03,151.032 182.363,159.198 187.5,167.5C 183.568,168.8 179.568,169.3 175.5,169C 172.364,163.699 169.03,158.532 165.5,153.5C 161.97,158.532 158.636,163.699 155.5,169C 151.745,169.755 148.078,169.589 144.5,168.5C 144.5,167.833 144.5,167.167 144.5,166.5C 150.018,158.811 155.352,150.978 160.5,143C 155.965,135.432 151.298,127.932 146.5,120.5C 149.784,119.343 153.118,119.176 156.5,120C 159.777,124.672 162.777,129.505 165.5,134.5C 168.167,129.833 170.833,125.167 173.5,120.5C 177.204,119.767 180.871,119.1 184.5,118.5 Z" 
"M 10.5,123.5 C 12.1436,123.81 13.1436,124.81 13.5,126.5C 11.8564,126.19 10.8564,125.19 10.5,123.5 Z" 
"M 83.5,161.5 C 83.5,161.833 83.5,162.167 83.5,162.5C 79.3005,162.81 75.3005,162.143 71.5,160.5C 69.8673,158.705 68.034,157.038 66,155.5C 63.0247,158.909 59.5247,161.742 55.5,164C 45.1649,166.997 38.1649,163.331 34.5,153C 35.1667,151.333 35.8333,149.667 36.5,148C 36.1667,147.667 35.8333,147.333 35.5,147C 32.2103,147.369 28.877,147.369 25.5,147C 21.6714,145.525 19.6714,142.691 19.5,138.5C 20.1984,137.137 20.1984,135.971 19.5,135C 20.0442,134.283 20.7109,133.783 21.5,133.5C 22.2216,133.082 22.7216,132.416 23,131.5C 29.1041,132.284 35.2708,132.45 41.5,132C 44.5449,135.19 48.2115,137.357 52.5,138.5C 54.8983,137.611 56.8983,136.111 58.5,134C 62.4233,131.691 65.9233,132.191 69,135.5C 69.795,137.901 70.9617,140.068 72.5,142C 75.2756,142.066 77.4423,143.232 79,145.5C 78.6667,149.167 78.3333,152.833 78,156.5C 79.8119,158.3 81.6452,159.967 83.5,161.5 Z" 
"M 33.5,139.5 C 38.4064,138.917 42.073,140.75 44.5,145C 46.8333,145.667 49.1667,145.667 51.5,145C 57.9242,140.125 63.9242,140.625 69.5,146.5C 66.9982,146.621 64.3315,146.788 61.5,147C 59.3529,149.237 57.0196,151.237 54.5,153C 46.2554,155.094 41.4221,151.927 40,143.5C 37.5746,142.357 35.4079,141.024 33.5,139.5 Z" 
"M 112.5,166.5 C 112.5,167.167 112.5,167.833 112.5,168.5C 106.167,168.5 99.8333,168.5 93.5,168.5C 93.1682,158.81 93.5016,149.144 94.5,139.5C 101.265,148.041 107.265,157.041 112.5,166.5 Z" 
"M 144.5,166.5 C 144.5,167.167 144.5,167.833 144.5,168.5C 142.833,168.5 141.167,168.5 139.5,168.5C 139.5,152.5 139.5,136.5 139.5,120.5C 136.5,120.5 133.5,120.5 130.5,120.5C 130.5,136.5 130.5,152.5 130.5,168.5C 124.349,168.653 118.349,168.653 112.5,168.5C 112.5,167.833 112.5,167.167 112.5,166.5C 115.391,167.403 118.391,167.736 121.5,167.5C 121.5,151.833 121.5,136.167 121.5,120.5C 118.833,120.5 116.167,120.5 113.5,120.5C 113.832,130.855 113.499,141.188 112.5,151.5C 111.893,151.376 111.56,151.043 111.5,150.5C 112.494,140.347 112.828,130.014 112.5,119.5C 115.833,119.5 119.167,119.5 122.5,119.5C 122.5,135.5 122.5,151.5 122.5,167.5C 124.833,167.5 127.167,167.5 129.5,167.5C 129.5,151.5 129.5,135.5 129.5,119.5C 133.167,119.5 136.833,119.5 140.5,119.5C 140.5,135.5 140.5,151.5 140.5,167.5C 141.959,167.567 143.292,167.234 144.5,166.5 Z" 
"M 139.5,168.5 C 136.5,168.5 133.5,168.5 130.5,168.5C 130.5,152.5 130.5,136.5 130.5,120.5C 133.5,120.5 136.5,120.5 139.5,120.5C 139.5,136.5 139.5,152.5 139.5,168.5 Z" 
"M 71.5,160.5 C 75.3005,162.143 79.3005,162.81 83.5,162.5C 84.4614,164.265 84.7947,166.265 84.5,168.5C 84.5654,168.938 84.3988,169.272 84,169.5C 82.7926,167.56 82.626,165.727 83.5,164C 79.106,163.697 74.7727,163.03 70.5,162C 71.056,161.617 71.3893,161.117 71.5,160.5 Z" 
};

// Color definitions for each path component
const char *svg_colors[] = {
    "rgb(137, 185, 60)", "rgb(126, 186, 52)", "rgb(101, 171, 52)", "rgb(91, 168, 51)", "rgb(95, 151, 59)", "rgb(56, 128, 40)", "rgb(52, 124, 39)", "rgb(71, 112, 76)", "rgb(61, 112, 34)", "rgb(82, 102, 72)", "rgb(80, 100, 72)", "rgb(79, 99, 70)", "rgb(49, 102, 40)", "rgb(124, 63, 44)", "rgb(50, 80, 42)", "rgb(34, 87, 28)", "rgb(30, 80, 28)", "rgb(29, 79, 28)", "rgb(31, 76, 29)", "rgb(24, 57, 23)",

    "rgb(137, 185, 60)", "rgb(126, 186, 52)", "rgb(101, 171, 52)", "rgb(91, 168, 51)", "rgb(95, 151, 59)", "rgb(56, 128, 40)", "rgb(52, 124, 39)", "rgb(71, 112, 76)", "rgb(61, 112, 34)", "rgb(82, 102, 72)", "rgb(80, 100, 72)", "rgb(79, 99, 70)", "rgb(49, 102, 40)", "rgb(124, 63, 44)", "rgb(50, 80, 42)", "rgb(34, 87, 28)", "rgb(30, 80, 28)", "rgb(29, 79, 28)", "rgb(31, 76, 29)", "rgb(24, 57, 23)",

    "rgb(137, 185, 60)", "rgb(126, 186, 52)", "rgb(101, 171, 52)", "rgb(91, 168, 51)", "rgb(95, 151, 59)", "rgb(56, 128, 40)", "rgb(52, 124, 39)", "rgb(71, 112, 76)", "rgb(61, 112, 34)", "rgb(82, 102, 72)", "rgb(80, 100, 72)", "rgb(79, 99, 70)", "rgb(49, 102, 40)", "rgb(124, 63, 44)", "rgb(50, 80, 42)", "rgb(34, 87, 28)", "rgb(30, 80, 28)", "rgb(29, 79, 28)", "rgb(31, 76, 29)", "rgb(24, 57, 23)"

};

#define NUM_PATHS (sizeof(svg_paths) / sizeof(svg_paths[0]))

/*
 * Main program entry point
 */
int main(void) {
    const char *fb_device = "/dev/fb0";

    // Get rotation from device tree
    int rotation = get_display_rotation();

    // Check framebuffer device accessibility
    if (access(fb_device, R_OK | W_OK) != 0) {
        fprintf(stderr, "Cannot access %s: %s\n", fb_device, strerror(errno));
        return 1;
    }

    // Initialize framebuffer
    Framebuffer *fb = fb_init(fb_device);
    if (!fb) {
        fprintf(stderr, "Failed to initialize framebuffer\n");
        return 1;
    }

    // Calculate display parameters
    DisplayInfo *display_info = calculate_display_info(fb);
    if (!display_info) {
        fprintf(stderr, "Failed to calculate display information\n");
        fb_cleanup(fb);
        return 1;
    }

    // Clear screen to black
    for (uint32_t y = 0; y < fb->vinfo.yres; y++) {
        for (uint32_t x = 0; x < fb->vinfo.xres; x++) {
            set_pixel(fb, x, y, 0x00000000);
        }
    }

    // Process and render each path component
    for (size_t i = 0; i < NUM_PATHS; i++) {
        SVGPath *svg = parse_svg_path(svg_paths[i], svg_colors[i]);
        if (!svg) {
            fprintf(stderr, "Failed to parse SVG path %zu\n", i);
            continue;
        }

        // Apply rotation from device tree if specified
        if (rotation)
            rotate_svg_path(svg, rotation);

        // Render the path
        render_svg_path(fb, svg, display_info);
        free_svg_path(svg);
    }

    // Flush changes to the framebuffer
    fb_flush(fb);

    // Clean up
    free(display_info);
    fb_cleanup(fb);

    return 0;
}
